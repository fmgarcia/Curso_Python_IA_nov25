<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora GrÃ¡fica</title>
    <link rel="stylesheet" href="style.css">
    <!-- Plotly.js CDN para grÃ¡ficos interactivos -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="language-selector">
                <button class="lang-btn active" data-lang="es" title="EspaÃ±ol">ðŸ‡ªðŸ‡¸</button>
                <button class="lang-btn" data-lang="en" title="English">ðŸ‡¬ðŸ‡§</button>
                <button class="lang-btn" data-lang="fr" title="FranÃ§ais">ðŸ‡«ðŸ‡·</button>
                <button class="lang-btn" data-lang="de" title="Deutsch">ðŸ‡©ðŸ‡ª</button>
            </div>
            <h1 data-i18n="title">ðŸ§® Calculadora GrÃ¡fica</h1>
            <p class="subtitle" data-i18n="subtitle">Ingresa una funciÃ³n matemÃ¡tica y visualiza su grÃ¡fica en tiempo real</p>
        </header>

        <main>
            <!-- Sistema de pestaÃ±as -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="graphs" data-i18n="tab_graphs">
                    ðŸ“ˆ Funciones TrigonomÃ©tricas
                </button>
                <button class="tab-btn" data-tab="calculator" data-i18n="tab_calculator">
                    ðŸ”¢ Operaciones BÃ¡sicas
                </button>
            </div>

            <!-- Contenido de pestaÃ±a: Funciones TrigonomÃ©tricas -->
            <div class="tab-content active" id="graphs-tab">
            <!-- SecciÃ³n de entrada -->
            <section class="input-section">
                <div class="input-group">
                    <label for="functionInput">f(x) =</label>
                    <input 
                        type="text" 
                        id="functionInput" 
                        data-i18n-placeholder="input_placeholder"
                        placeholder="Ej: sin(x) + x^2, cos(2*x), exp(-x^2)"
                        autocomplete="off"
                    >
                </div>

                <!-- Controles de rango -->
                <div class="range-controls">
                    <div class="range-group">
                        <label for="xMin" data-i18n="range_min">x mÃ­n:</label>
                        <input type="number" id="xMin" value="-10" step="1">
                    </div>
                    <div class="range-group">
                        <label for="xMax" data-i18n="range_max">x mÃ¡x:</label>
                        <input type="number" id="xMax" value="10" step="1">
                    </div>
                    <div class="range-group">
                        <label for="numPuntos" data-i18n="range_points">Puntos:</label>
                        <input type="number" id="numPuntos" value="200" min="10" max="1000" step="10">
                    </div>
                </div>

                <button id="graphButton" class="btn-primary" data-i18n="btn_graph">
                    ðŸ“ˆ Graficar
                </button>
            </section>

            <!-- Ãrea de mensajes de error -->
            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <!-- Ãrea del grÃ¡fico -->
            <section class="graph-section">
                <div id="graphContainer"></div>
            </section>

            <!-- Ejemplos de funciones -->
            <section class="examples-section">
                <h3 data-i18n="examples_title">Ejemplos de funciones:</h3>
                <div class="examples-grid">
                    <button class="example-btn" data-func="sin(x)">sin(x)</button>
                    <button class="example-btn" data-func="cos(x)">cos(x)</button>
                    <button class="example-btn" data-func="tan(x)">tan(x)</button>
                    <button class="example-btn" data-func="x^2">xÂ²</button>
                    <button class="example-btn" data-func="x^3 - 3*x">xÂ³ - 3x</button>
                    <button class="example-btn" data-func="sin(x) + cos(2*x)">sin(x) + cos(2x)</button>
                    <button class="example-btn" data-func="exp(-x^2)">e^(-xÂ²)</button>
                    <button class="example-btn" data-func="log(abs(x) + 1)">log(|x| + 1)</button>
                    <button class="example-btn" data-func="sqrt(abs(x))">âˆš|x|</button>
                    <button class="example-btn" data-func="sin(x)/x">sin(x)/x</button>
                </div>
            </section>

            <!-- Ayuda -->
            <section class="help-section">
                <details>
                    <summary data-i18n="help_title">ðŸ“– Funciones disponibles</summary>
                    <ul>
                        <li><strong data-i18n="help_trig">TrigonomÃ©tricas:</strong> sin(x), cos(x), tan(x)</li>
                        <li><strong data-i18n="help_exp">Exponencial:</strong> exp(x) o e^x</li>
                        <li><strong data-i18n="help_log">Logaritmo:</strong> log(x) (logaritmo natural)</li>
                        <li><strong data-i18n="help_sqrt">RaÃ­z cuadrada:</strong> sqrt(x)</li>
                        <li><strong data-i18n="help_abs">Valor absoluto:</strong> abs(x)</li>
                        <li><strong data-i18n="help_pow">Potencias:</strong> x^2, x^3, x**2</li>
                        <li><strong data-i18n="help_const">Constantes:</strong> pi, e</li>
                        <li><strong data-i18n="help_ops">Operadores:</strong> +, -, *, /</li>
                    </ul>
                </details>
            </section>
            </div>

            <!-- Contenido de pestaÃ±a: Calculadora BÃ¡sica -->
            <div class="tab-content" id="calculator-tab">
            <!-- Calculadora BÃ¡sica -->
            <section class="calculator-section">
                <h3 data-i18n="calc_title">ðŸ”¢ Calculadora BÃ¡sica</h3>
                <div class="calc-inputs">
                    <input type="number" id="calcA" data-i18n-placeholder="calc_num1" placeholder="NÃºmero 1" step="any">
                    <span id="calcOperator">+</span>
                    <input type="number" id="calcB" data-i18n-placeholder="calc_num2" placeholder="NÃºmero 2" step="any">
                </div>
                <div class="calc-operations">
                    <button class="calc-btn" data-op="+" data-i18n="calc_add">+ Sumar</button>
                    <button class="calc-btn" data-op="-" data-i18n="calc_sub">âˆ’ Restar</button>
                    <button class="calc-btn" data-op="*" data-i18n="calc_mult">Ã— Multiplicar</button>
                    <button class="calc-btn" data-op="/" data-i18n="calc_div">Ã· Dividir</button>
                    <button class="calc-btn" data-op="**" data-i18n="calc_pow">^ Potencia</button>
                    <button class="calc-btn" data-op="sqrt" data-i18n="calc_sqrt">âˆš RaÃ­z</button>
                </div>
                <div id="calcResult" class="calc-result"><span data-i18n="calc_result">Resultado:</span> -</div>
            </section>
            </div>
        </main>

        <footer>
            <p data-i18n="footer">Desarrollado con Flask + Plotly.js | EOI 2025</p>
        </footer>
    </div>

    <script src="translations.js"></script>
    <script src="script.js"></script>
</body>
</html>
